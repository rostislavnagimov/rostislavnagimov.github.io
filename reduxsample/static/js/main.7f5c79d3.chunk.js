(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(11),a=n.n(r),i=(n(29),n(30),n(5)),s=n(18),o=n.n(s),u=n(22),l="INCREMENT",d="DECREMENT",j="INPUT_TEXT",O="COMMENT_CREATE",b="COMMENT_UPDATE",m="COMMENT_DELETE",p="COMMENTS_LOAD",f="LOADER_DISPLAY_ON",x="LOADER_DISPLAY_OFF",v="ERROR_DISPLAY_ON",h="ERROR_DISPLAY_OFF";function g(){return{type:x}}function E(e){return function(t){t({type:v,text:e}),setTimeout((function(){t({type:h})}),2e3)}}var N=n(1);var y=Object(i.b)((function(e){return{likes:e.likesReducer.likes}}),(function(e){return{onIncrementLikes:function(){return e({type:l})},onDecrementLikes:function(){return e({type:d})}}}))((function(e){return console.log(e),Object(N.jsxs)("div",{className:"button-controls",children:[Object(N.jsxs)("button",{onClick:e.onIncrementLikes,children:["\u2665 ",e.likes]}),Object(N.jsx)("button",{onClick:e.onDecrementLikes,children:"Dislike"})]})}));var _=function(e){console.log("pros title >",e);var t=Object(i.c)(),n=Object(i.d)((function(e){return e.inputReducer.text}));return Object(N.jsxs)("div",{className:"card-title",children:[Object(N.jsx)("div",{className:"card-title-top",children:Object(N.jsx)("input",{type:"text",onChange:function(e){console.log("handle text >>",e.target.value),t(function(e){return{type:j,text:e}}(e.target.value))}})}),Object(N.jsx)("p",{children:n})]})},R=n(8),k=n(23),T=n.n(k);var D=function(e){var t=e.data,n=t.text,r=t.id,a=Object(c.useState)(""),s=Object(R.a)(a,2),o=s[0],u=s[1],l=Object(i.c)();return Object(c.useEffect)((function(){n&&u(n)}),[n]),Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("submit >>",o),l(function(e,t){return{type:b,data:{text:e,id:t}}}(o,r))},className:"comments-item",children:[Object(N.jsx)("div",{onClick:function(e){l(function(e){return{type:m,id:e}}(r))},className:"comments-item-delete",children:"\xd7"}),Object(N.jsx)("input",{type:"text",value:o,onChange:function(e){u(e.target.value)}}),Object(N.jsx)("input",{type:"submit",hidden:!0})]})};var S=function(e){var t=Object(c.useState)(""),n=Object(R.a)(t,2),r=n[0],a=n[1],s=Object(i.d)((function(e){return e.commentsReducer.comments})),l=Object(i.c)();return console.log("COMMENTS >",s),Object(c.useEffect)((function(){l(function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:f}),e.next=4,fetch("https://jsonplaceholder.typicode.com/comments?_limit=10");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,setTimeout((function(){t({type:p,data:c}),t(g())}),1e3),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(E("\u041e\u0448\u0438\u0431\u043a\u0430 API")),t(g());case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(N.jsxs)("div",{className:"card-comments",children:[Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("Submit text comment >>>",r);var t=T()();l(function(e,t){return{type:O,data:{text:e,id:t}}}(r,t))},className:"comments-item-create",children:[Object(N.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)}}),Object(N.jsx)("input",{type:"submit",hidden:!0})]}),!!s.length&&s.map((function(e){return Object(N.jsx)(D,{data:e},e.id)}))]})},w=n(24),C=n.n(w),I=function(e){var t=Object(i.d)((function(e){return e.appReducer.loading}));return console.log("spinner >>",t),Object(N.jsx)("div",{className:"loader-styles",children:Object(N.jsx)(C.a,{type:"TailSpin",color:"#00BFFF",heigth:100,width:100,visible:t})})};var L=function(){var e=Object(i.d)((function(e){return e.appReducer.error}));return console.log("error >>>",e),Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)("div",{className:"wrap",children:[Object(N.jsx)(I,{}),Object(N.jsxs)("div",{className:"card",children:[e&&Object(N.jsx)("div",{className:"error-message",children:e}),Object(N.jsxs)("div",{className:"card-image",children:[Object(N.jsx)("img",{src:"./sea.jpg",alt:"surfing"}),Object(N.jsx)(_,{}),Object(N.jsx)(y,{})]}),Object(N.jsx)(S,{})]})]})})},M=n(16),A=n(6),F=n(2),P={likes:0},X={text:""},U=n(7),Y={comments:[]},B={loading:!1,error:null},J=Object(A.b)({likesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(F.a)(Object(F.a)({},e),{},{likes:e.likes+1});case d:return Object(F.a)(Object(F.a)({},e),{},{likes:e.likes-1});default:return e}},inputReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;return console.log("inputReducer >",t),t.type===j?Object(F.a)(Object(F.a)({},e),{},{text:t.text}):e},commentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(console.log("commentsReducer >",t),t.type){case O:return Object(F.a)(Object(F.a)({},e),{},{comments:[].concat(Object(U.a)(e.comments),[t.data])});case p:var n=t.data.map((function(e){return{text:e.name,id:e.id}}));return Object(F.a)(Object(F.a)({},e),{},{comments:n});case b:var c=t.data,r=e.comments,a=r.findIndex((function(e){return e.id===c.id})),i=[].concat(Object(U.a)(r.slice(0,a)),[c],Object(U.a)(r.slice(a+1)));return Object(F.a)(Object(F.a)({},e),{},{comments:i});case m:return function(){var n=t.id,c=e.comments,r=c.findIndex((function(e){return e.id===n})),a=[].concat(Object(U.a)(c.slice(0,r)),Object(U.a)(c.slice(r+1)));return Object(F.a)(Object(F.a)({},e),{},{comments:a})}();default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(console.log("inputReducer >",t),t.type){case f:return Object(F.a)(Object(F.a)({},e),{},{loading:!0});case x:return Object(F.a)(Object(F.a)({},e),{},{loading:!1});case v:return Object(F.a)(Object(F.a)({},e),{},{error:t.text});case h:return Object(F.a)(Object(F.a)({},e),{},{error:null});default:return e}}}),V=n(9),q=["\u043a\u043e\u0437\u0435\u043b","\u043e\u0441\u0435\u043b"];function z(e){var t=e.dispatch;return function(e){return function(n){if(n.type===O&&(console.log("spamFilter >>>",n.data.text),q.some((function(e){return n.data.text.includes(e)}))))return t(E("\u0423\u0432\u0430\u0436\u0430\u0439\u0442\u0435 \u043b\u044e\u0434\u0435\u0439!"));return e(n)}}}var G=Object(M.a)({reducer:J,middleware:[V.a,z]},Object(A.c)(Object(A.a)(V.a,z),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a.a.render(Object(N.jsx)(i.a,{store:G,children:Object(N.jsx)(L,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.7f5c79d3.chunk.js.map