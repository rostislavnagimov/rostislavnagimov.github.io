{"version":3,"sources":["redux/types.js","redux/actions.js","Likes.js","title.js","SingleComment.js","comments.js","Spin.js","App.js","redux/likesReducer.js","redux/inputReducer.js","redux/commentsReducer.js","redux/appReducer.js","redux/rootReducer.js","redux/middleWare.js","index.js"],"names":["INCREMENT","DECREMENT","INPUT_TEXT","COMMENT_CREATE","COMMENT_UPDATE","COMMENT_DELETE","COMMENTS_LOAD","LOADER_DISPLAY_ON","LOADER_DISPLAY_OFF","ERROR_DISPLAY_ON","ERROR_DISPLAY_OFF","loaderOff","type","errorOn","text","dispatch","setTimeout","connect","state","likes","likesReducer","onIncrementLikes","onDecrementLikes","props","console","log","className","onClick","Title","useDispatch","useSelector","inputReducer","onChange","e","target","value","inputText","SingleComment","data","id","useState","commentText","setCommentText","useEffect","onSubmit","preventDefault","commentUpdate","commentDelete","hidden","Comments","textComment","setTextComment","comments","commentsReducer","a","fetch","response","json","jsonData","uniqid","commentCreate","length","map","res","Spin","spinner","appReducer","loading","color","heigth","width","visible","App","error","src","alt","initialState","rootReducer","combineReducers","action","commentsNew","name","itemIndex","findIndex","nextComments","slice","badWords","spamFilter","next","some","includes","store","configureStore","reducer","middleware","thunk","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f5c79d3.chunk.js","sourcesContent":["export const INCREMENT = 'INCREMENT'\r\nexport const DECREMENT = 'DECREMENT'\r\nexport const INPUT_TEXT = 'INPUT_TEXT'\r\nexport const COMMENT_CREATE = 'COMMENT_CREATE'\r\nexport const COMMENT_UPDATE = 'COMMENT_UPDATE'\r\nexport const COMMENT_DELETE = 'COMMENT_DELETE'\r\n\r\nexport const COMMENTS_LOAD = 'COMMENTS_LOAD'\r\nexport const LOADER_DISPLAY_ON = 'LOADER_DISPLAY_ON'\r\nexport const LOADER_DISPLAY_OFF = 'LOADER_DISPLAY_OFF'\r\n\r\nexport const ERROR_DISPLAY_ON = 'ERROR_DISPLAY_ON'\r\nexport const ERROR_DISPLAY_OFF = 'ERROR_DISPLAY_OFF'\r\n","import { INCREMENT, DECREMENT, INPUT_TEXT, COMMENT_CREATE, COMMENT_UPDATE, COMMENT_DELETE, COMMENTS_LOAD, LOADER_DISPLAY_ON, LOADER_DISPLAY_OFF, ERROR_DISPLAY_ON, ERROR_DISPLAY_OFF } from \"./types\";\r\n\r\nexport function incrementLikes(){\r\n    return{\r\n        type: INCREMENT\r\n    }\r\n\r\n}\r\nexport function decrementLikes(){\r\n    return{\r\n        type: DECREMENT\r\n    }\r\n\r\n}\r\nexport function inputText(text){\r\n    return{\r\n        type: INPUT_TEXT,\r\n        text\r\n    }\r\n\r\n}\r\nexport function commentCreate(text, id){\r\n    return{\r\n        type: COMMENT_CREATE,\r\n        data: {text, id}\r\n    }\r\n\r\n}\r\nexport function commentUpdate(text, id){\r\n    return{\r\n        type: COMMENT_UPDATE,\r\n        data: {text, id}\r\n    }\r\n\r\n}\r\nexport function commentDelete(id){\r\n    return{\r\n        type: COMMENT_DELETE, id\r\n    }\r\n\r\n}\r\nexport function loaderOn(){\r\n    return{\r\n        type: LOADER_DISPLAY_ON\r\n    }\r\n\r\n}\r\nexport function loaderOff(){\r\n    return{\r\n        type: LOADER_DISPLAY_OFF\r\n    }\r\n\r\n}\r\n\r\nexport function errorOn(text){\r\n    return dispatch => {\r\n        dispatch({\r\n            type: ERROR_DISPLAY_ON, text\r\n        });\r\n        setTimeout(() =>{\r\n            dispatch(errorOff())\r\n\r\n        }, 2000)\r\n    }\r\n\r\n}\r\nexport function errorOff(){\r\n    return{\r\n        type: ERROR_DISPLAY_OFF\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function commentsLoad(){\r\n    return async dispatch => {\r\n        try {\r\n            dispatch(loaderOn());\r\n        const response = await fetch('https://jsonplaceholder.typicode.com/comments?_limit=10');\r\n        const jsonData = await response.json();\r\n        setTimeout(()=>{\r\n            dispatch({\r\n                type: COMMENTS_LOAD,\r\n                data: jsonData\r\n            });\r\n            dispatch(loaderOff());\r\n\r\n        }, 1000)\r\n    \r\n        } catch(err) {\r\n            dispatch(errorOn('Ошибка API'));\r\n            dispatch(loaderOff());\r\n        }\r\n        \r\n    }\r\n\r\n}\r\n\r\n","import { connect } from 'react-redux';\r\nimport { incrementLikes, decrementLikes } from './redux/actions';\r\n\r\nfunction Likes(props){\r\n    console.log(props);\r\n    return(\r\n        <div className=\"button-controls\">\r\n            <button onClick={props.onIncrementLikes}>♥ {props.likes}</button>\r\n            <button onClick={props.onDecrementLikes}>Dislike</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    const {likesReducer} = state;\r\n    return {\r\n        likes: likesReducer.likes\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n    return{\r\n        onIncrementLikes: () => dispatch(incrementLikes()),\r\n        onDecrementLikes: () => dispatch(decrementLikes())\r\n        }\r\n    \r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Likes);","import { useDispatch, useSelector } from 'react-redux'\r\nimport { inputText } from './redux/actions'\r\n\r\n\r\n\r\n\r\nfunction Title(props){\r\n    console.log('pros title >', props)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const text = useSelector(state =>{\r\n        const { inputReducer } = state\r\n\r\n        return inputReducer.text\r\n    })\r\n\r\n    const handleChange =(e) =>{\r\n        console.log('handle text >>', e.target.value)\r\n        dispatch(inputText(e.target.value))\r\n    }\r\n\r\n    return (\r\n    <div className=\"card-title\">\r\n        <div className=\"card-title-top\">\r\n            <input type=\"text\" onChange={handleChange}/>\r\n        </div>\r\n        <p>{text}</p>\r\n\r\n    </div>\r\n    )\r\n        \r\n    \r\n}\r\n\r\nexport default Title;","import { useState, useEffect } from \"react\";\r\nimport { commentUpdate, commentDelete } from \"./redux/actions\";\r\nimport { useDispatch } from 'react-redux';\r\n\r\nfunction SingleComment({ data }){\r\n    const {text, id} = data;\r\n    const [commentText, setCommentText] = useState('')\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n\r\n        if (text){\r\n            setCommentText(text);\r\n        }\r\n    }, [text])\r\n    const handleInput = (e) => {\r\n        setCommentText(e.target.value);\r\n\r\n    }\r\n\r\n    const handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        console.log('submit >>', commentText);\r\n        dispatch(commentUpdate(commentText, id))\r\n\r\n    }\r\n    const handleDelete = (e) => {\r\n        dispatch(commentDelete(id));\r\n\r\n    }\r\n\r\n    return (\r\n            <form onSubmit={handleUpdate} className='comments-item'>\r\n                <div onClick={handleDelete} className='comments-item-delete'>&times;</div>\r\n                <input type='text' value={commentText} onChange={handleInput}/>\r\n                <input type='submit' hidden/>\r\n            </form>  \r\n    )\r\n}\r\nexport default SingleComment;","import { useState, useEffect } from \"react\";\r\nimport uniqid from 'uniqid';\r\nimport SingleComment from \"./SingleComment\";\r\nimport { commentCreate } from \"./redux/actions\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { commentsLoad } from \"./redux/actions\";\r\n\r\nfunction Comments(props){\r\n    const [textComment, setTextComment] = useState('');\r\n\r\n    const comments = useSelector(state =>{\r\n        \r\n        const { commentsReducer } = state;\r\n        return commentsReducer.comments\r\n    })\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleInput = (e) => {\r\n        setTextComment(e.target.value)\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('Submit text comment >>>', textComment);\r\n        const id = uniqid();\r\n        dispatch(commentCreate(textComment, id));\r\n    }\r\n    console.log('COMMENTS >', comments)\r\n\r\nuseEffect(() => {dispatch(commentsLoad())}, []);\r\n\r\n    return (\r\n        <div className='card-comments'>\r\n            <form onSubmit={handleSubmit} className='comments-item-create'>\r\n                <input type='text' value={textComment} onChange={handleInput} />\r\n                <input type='submit' hidden/>\r\n            </form>  \r\n            {!!comments.length && comments.map(res => {\r\n                return <SingleComment key={res.id} data={res}/>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\nexport default Comments;","import Loader from \"react-loader-spinner\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Spin = (props) => {\r\n    const spinner = useSelector(state => state.appReducer.loading);\r\n    console.log('spinner >>', spinner)\r\n    return(\r\n        <div className='loader-styles'>\r\n            <Loader \r\n            type=\"TailSpin\"\r\n            color=\"#00BFFF\"\r\n            heigth={100}\r\n            width={100}\r\n            visible={spinner}\r\n            \r\n            \r\n            />\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spin;","import './App.css';\nimport Likes from './Likes.js'\nimport Title from './title.js'\nimport Comments from './comments';\nimport Spin from './Spin';\nimport { useSelector } from 'react-redux';\n\nfunction App() {\n  const error = useSelector(state => state.appReducer.error);\n  console.log('error >>>', error)\n  return (\n    <div className=\"App\">\n      <div className=\"wrap\">\n        <Spin />\n        <div className=\"card\">\n          {error && (\n            <div className='error-message'>{error}</div>\n          )}\n          <div className=\"card-image\">\n            <img src=\"./sea.jpg\" alt=\"surfing\"/>\n            <Title />\n            <Likes />\n          </div>\n          <Comments />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { INCREMENT, DECREMENT } from \"./types\";\r\n\r\nconst initialState = {\r\n    likes: 0\r\n}\r\n\r\nexport const likesReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type){\r\n\r\n        case INCREMENT:\r\n            return {\r\n                ...state,\r\n                likes: state.likes + 1\r\n            }\r\n        case DECREMENT:\r\n            return {\r\n                ...state,\r\n                likes: state.likes - 1\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { INPUT_TEXT } from \"./types\";\r\n\r\nconst initialState = {\r\n    text: ''\r\n}\r\n\r\nexport const inputReducer = (state = initialState, action) => {\r\n    console.log('inputReducer >', action);\r\n    \r\n    switch (action.type){\r\n\r\n        case INPUT_TEXT:\r\n            return {\r\n                ...state,\r\n                text: action.text\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { COMMENT_CREATE, COMMENT_UPDATE, COMMENT_DELETE, COMMENTS_LOAD } from \"./types\";\r\n\r\nconst initialState = {\r\n    comments: []\r\n}\r\n\r\nexport const commentsReducer = (state = initialState, action) => {\r\n    console.log('commentsReducer >', action);\r\n    switch (action.type){\r\n\r\n        case COMMENT_CREATE:\r\n            return {\r\n                ...state,\r\n                comments:[...state.comments, action.data]\r\n            }\r\n        case COMMENTS_LOAD:\r\n            const commentsNew = action.data.map(res => {\r\n                return {\r\n                    text: res.name,\r\n                    id: res.id\r\n\r\n                }\r\n            })\r\n            return{\r\n                ...state,\r\n                comments: commentsNew\r\n            }\r\n        case COMMENT_UPDATE:\r\n            const { data } = action;\r\n            const { comments } = state;\r\n            const itemIndex = comments.findIndex(res => res.id === data.id);\r\n            const nextComments = [\r\n                ...comments.slice(0, itemIndex),\r\n                data,\r\n                ...comments.slice(itemIndex + 1)\r\n            ];\r\n            return {\r\n                ...state,\r\n                comments: nextComments\r\n            }\r\n            case COMMENT_DELETE:\r\n                return (() => {\r\n                    const { id } = action;\r\n                    const { comments } = state;\r\n                    const itemIndex = comments.findIndex(res => res.id === id);\r\n                    const nextComments = [\r\n                        ...comments.slice(0, itemIndex),\r\n                        ...comments.slice(itemIndex + 1)\r\n                    ];\r\n                    return {\r\n                        ...state,\r\n                        comments: nextComments\r\n                    } \r\n\r\n                })()\r\n        default:\r\n            return state;\r\n        }\r\n}","import { LOADER_DISPLAY_ON, LOADER_DISPLAY_OFF, ERROR_DISPLAY_ON, ERROR_DISPLAY_OFF } from \"./types\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n    console.log('inputReducer >', action);\r\n    \r\n    switch (action.type){\r\n\r\n        case LOADER_DISPLAY_ON:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case LOADER_DISPLAY_OFF:\r\n            return {\r\n                ...state,\r\n                loading: false\r\n                }\r\n        case ERROR_DISPLAY_ON:\r\n            return {\r\n                ...state,\r\n                error: action.text\r\n                }\r\n        case ERROR_DISPLAY_OFF:\r\n            return {\r\n                ...state,\r\n                error: null\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\nimport { likesReducer } from \"./likesReducer\";\r\nimport { inputReducer } from \"./inputReducer\";\r\nimport { commentsReducer } from \"./commentsReducer\";\r\nimport { appReducer } from \"./appReducer\";\r\n\r\nexport const rootReducer = combineReducers({\r\n    likesReducer,\r\n    inputReducer,\r\n    commentsReducer,\r\n    appReducer\r\n  \r\n  });","import { COMMENT_CREATE } from \"./types\"\r\nimport { errorOn } from \"./actions\";\r\n\r\nconst badWords=['козел','осел'];\r\n\r\nexport function spamFilter({dispatch}) {\r\n    return function(next) {\r\n        return function (action) {\r\n            if (action.type === COMMENT_CREATE) {\r\n                console.log('spamFilter >>>', action.data.text)\r\n                const hasBadWords = badWords.some(res => action.data.text.includes(res));\r\n                if(hasBadWords){\r\n                    return dispatch(errorOn('Уважайте людей!'))\r\n                }\r\n            };\r\n            return next(action);\r\n\r\n        }\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { configureStore } from '@reduxjs/toolkit'\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './redux/rootReducer';\nimport thunk from 'redux-thunk';\nimport { compose, applyMiddleware } from '@reduxjs/toolkit';\nimport { spamFilter } from './redux/middleWare';\n\n\n\nconst store = configureStore({reducer: rootReducer, middleware: [thunk, spamFilter]}, compose(\n  applyMiddleware(thunk, spamFilter), window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n))\n\n\n\nReactDOM.render(\n  <Provider store={store}>\n\n    <App />\n    \n  </Provider>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}